specVersion: 0.0.2
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: InternetCamera
    network: mainnet
    source:
      address: '0xDd1333c9C4cC4EA63492c1Af4fAEb09dc28d1bC9'
      abi: InternetCamera
      startBlock: 0
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      file: ./src/InternetCamera.ts
      language: wasm/assemblyscript
      entities:
        - Film
        - Photo
      abis:
        - name: InternetCamera
          file: ./abis/InternetCamera.json
        - name: InternetCameraFilm
          file: ./abis/InternetCameraFilm.json
      eventHandlers:
        - event: PhotoPosted(indexed address,indexed address,uint256,uint256)
          handler: handlePhotoPosted
        - event: FilmRegistered(indexed address,indexed address)
          handler: handleFilmRegistered
        - event: Transfer(indexed address,indexed address,indexed uint256)
          handler: handlePhotoTransfer
templates:
  - name: InternetCameraFilm
    kind: ethereum/contract
    network: mainnet
    source:
      abi: InternetCameraFilm
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      file: ./src/InternetCameraFilm.ts
      language: wasm/assemblyscript
      entities:
        - Film
        - FilmHolder
      abis:
        - name: InternetCameraFilm
          file: ./abis/InternetCameraFilm.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleFilmTransfer
